<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Delivery API :: Magnolia Cloud Service Internal Documentation</title>
    <link rel="canonical" href="https://saas-docs.beta.de.magnolia-cloud.com/saas/saas/developers/api/delivery-endpoint/">
    <link rel="prev" href="../../connect-with-git/">
    <meta name="keywords" content="rest, api">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

<link rel="stylesheet" href="../../../../../_/css/site.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="../../../../../_/img/mgnl-favicon.png" type="image/png">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../../index.html">
        <svg width="220" height="40" viewBox="0 0 220 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M89.8347 6.63219C88.9841 6.62132 88.1402 6.78357 87.3543 7.10906C86.5685 7.43454 85.8571 7.91646 85.2635 8.52548V6.84193H72.7865C70.2399 6.28353 67.6379 6.01728 65.0309 6.04833C54.3517 6.04833 46.1934 9.76972 46.1934 14.7042C46.1934 16.5181 47.4042 17.9154 50.2229 19.2645L48.7058 19.9192L46.5904 20.795C45.537 21.193 44.5414 21.7296 43.6299 22.3907V13.0943C43.6299 8.81458 40.9786 6.63219 35.8261 6.63219C32.7692 6.63219 31.0054 7.19904 29.2218 9.16036L32.1369 11.9946C33.0897 10.9034 33.895 10.4811 35.6531 10.4811C38.0776 10.4811 39.056 11.3569 39.056 13.3579V14.2734H34.74C30.4865 14.2734 28.4817 16.657 28.4817 19.5735C28.4381 21.0876 28.9817 22.5601 29.9988 23.6831C31.0877 24.7715 32.5991 25.2958 34.672 25.2958C36.7449 25.2958 37.9415 24.7715 39.1722 23.5414V25.1229H43.6271V25.0011C44.5685 25.5679 46.2444 26.1348 48.8079 26.7385L45.9892 27.4414C41.6563 28.5127 40.0343 29.0229 38.2336 29.8137C35.7127 30.885 34.4026 32.2341 34.4026 33.7646C34.4026 37.4945 42.4588 40 54.5502 40C68.3486 40 78.5203 36.4628 78.5203 31.7608C78.5203 30.1311 77.1024 28.6913 74.3943 27.7106C72.0747 26.8603 69.8572 26.4097 61.8039 25.3384C55.4548 24.4881 53.5407 24.1281 51.9272 23.4451C51.2239 23.0653 50.7192 22.5608 50.7192 22.0506C50.7192 21.2939 51.4252 20.8404 53.3365 20.095C55.9538 20.5875 58.6132 20.822 61.2764 20.795C71.2467 20.795 79.0023 17.068 79.0023 12.3716C79.0023 10.9715 78.6025 10.1835 77.0911 8.97046C77.0911 8.97046 78.9853 8.97046 80.7775 9.14619V25.1314H85.3543V14.0778C85.3543 11.5837 86.9734 10.7447 88.4111 10.7447C89.8488 10.7447 91.4425 11.595 91.4425 14.0778V25.1314H96.0108V13.4458C96.0108 11.4448 95.6308 9.72154 94.1477 8.24772C93.1382 7.23022 91.6608 6.63219 89.8347 6.63219ZM39.0758 18.3944C39.0758 19.5281 38.8972 20.2565 38.4038 20.7157C37.5984 21.4724 36.7874 21.5943 35.5227 21.5943C33.7334 21.5943 32.8912 20.744 32.8912 19.4856C32.8912 18.2272 33.8014 17.4194 35.4433 17.4194H39.0645L39.0758 18.3944ZM53.3677 27.8892H53.7704C54.9699 27.8892 57.1732 28.1216 60.576 28.6459C63.6783 29.0626 65.3967 29.4027 66.8854 29.8505C69.5028 30.6101 70.8923 31.7013 70.8923 32.9965C70.8923 35.9187 64.2794 38.1379 55.744 38.1379C47.3305 38.1379 41.7272 36.2871 41.7272 33.5124C41.7272 31.8912 43.335 30.5874 46.6528 29.4339C48.9213 28.6318 51.8336 27.9884 53.3365 27.8892H53.3677ZM61.2849 19.1398C56.6741 19.1398 54.088 17.5214 54.088 14.6475C54.088 10.7589 57.7942 7.9813 63.3096 7.9813H63.6896C68.0991 7.9813 70.9036 9.78673 70.9036 12.6097C70.9036 16.4047 66.7805 19.1285 61.2622 19.1285L61.2849 19.1398Z" fill="#1E1F1C"/>
          <path d="M106.778 6.63232C104.073 6.63232 102.241 7.68951 101.107 8.88273C99.4562 10.6031 99.0365 12.6665 99.0365 15.9684C99.0365 19.2703 99.4562 21.3733 101.107 23.0966C102.241 24.2898 104.061 25.3413 106.778 25.3413C109.495 25.3413 111.346 24.2898 112.449 23.0966C114.103 21.3733 114.522 19.31 114.522 15.9684C114.522 12.6268 114.103 10.5833 112.449 8.88273C111.346 7.68951 109.48 6.63232 106.778 6.63232ZM108.922 20.4069C108.639 20.6817 108.303 20.8954 107.934 21.0349C107.565 21.1743 107.172 21.2365 106.778 21.2175C106.389 21.2371 106.001 21.1751 105.637 21.0355C105.274 20.8959 104.944 20.6817 104.668 20.4069C103.721 19.463 103.613 17.856 103.613 15.9514C103.613 14.0468 103.721 12.4737 104.668 11.5271C104.945 11.2539 105.275 11.041 105.638 10.902C106.001 10.7629 106.389 10.7007 106.778 10.7193C107.171 10.7011 107.565 10.7634 107.933 10.9023C108.302 11.0412 108.638 11.2538 108.922 11.5271C109.872 12.4737 109.974 14.0553 109.974 15.9514C109.974 17.8475 109.872 19.4857 108.922 20.4069Z" fill="#1E1F1C"/>
          <path d="M122.587 19.6298V0.135742H118.019V19.9076C118.019 22.5066 119.601 25.1396 123.358 25.1396H125.961V21.2794H124.203C123.041 21.2794 122.587 20.7153 122.587 19.6298Z" fill="#1E1F1C"/>
          <path d="M133.482 6.84766H128.913V25.1429H133.482V6.84766Z" fill="#1E1F1C"/>
          <path d="M133.513 0H128.84V3.72139H133.513V0Z" fill="#1E1F1C"/>
          <path d="M143.914 6.63232C140.857 6.63232 139.093 7.19918 137.307 9.16049L140.225 11.9948C141.172 10.9036 141.983 10.4813 143.738 10.4813C146.16 10.4813 147.141 11.357 147.141 13.358V14.2735H142.825C138.572 14.2735 136.567 16.6571 136.567 19.5736C136.522 21.0874 137.065 22.5599 138.081 23.6833C139.17 24.7716 140.684 25.296 142.751 25.296C144.819 25.296 146.021 24.7716 147.252 23.5416V25.1231H151.709V13.0945C151.709 8.81471 149.044 6.63232 143.914 6.63232ZM147.147 18.3945C147.147 19.5282 146.968 20.2566 146.48 20.7158C145.672 21.4725 144.867 21.5944 143.597 21.5944C141.804 21.5944 140.945 20.7441 140.945 19.4857C140.945 18.2273 141.858 17.4195 143.514 17.4195H147.13L147.147 18.3945Z" fill="#1E1F1C"/>
          <path d="M19.3621 6.63201C18.3336 6.59102 17.3087 6.77757 16.3606 7.17835C15.4126 7.57913 14.5648 8.18424 13.8779 8.95044C12.7181 7.36892 11.0592 6.63201 9.02884 6.63201C8.18003 6.63052 7.33932 6.79706 6.55525 7.12201C5.77117 7.44697 5.05924 7.92391 4.46054 8.5253V6.84175H0V25.1369H4.5683V14.0833C4.5683 11.5891 6.18464 10.7502 7.62517 10.7502C9.0657 10.7502 10.6537 11.6005 10.6537 14.0833V25.1369H15.2191V13.9813C15.2191 11.592 16.8695 10.7502 18.2703 10.7502C19.6712 10.7502 21.3017 11.6005 21.3017 14.0861V25.1398H25.87V13.4456C25.87 11.4446 25.3426 9.72136 23.885 8.24755C22.8358 7.23004 21.1854 6.63201 19.3621 6.63201Z" fill="#1E1F1C"/>
          <path d="M156.958 5.32267C156.962 5.17787 156.938 5.03367 156.886 4.89831C156.835 4.76296 156.757 4.63909 156.657 4.53381C156.558 4.42852 156.438 4.34388 156.306 4.2847C156.174 4.22553 156.031 4.193 155.886 4.18896H154.185V7.74597H155.112V6.40819H155.492L156.028 7.73746H157.086L156.419 6.24948C156.59 6.1642 156.732 6.03108 156.827 5.86644C156.923 5.7018 156.968 5.51281 156.958 5.32267ZM155.648 5.70246H155.112V4.98539H155.657C155.704 4.98055 155.751 4.98504 155.797 4.99858C155.842 5.01213 155.884 5.03448 155.921 5.06435C155.958 5.09422 155.988 5.13103 156.011 5.17268C156.033 5.21433 156.047 5.26 156.052 5.30708C156.057 5.35417 156.053 5.40174 156.039 5.44709C156.025 5.49244 156.003 5.53468 155.973 5.5714C155.943 5.60811 155.907 5.63858 155.865 5.66107C155.823 5.68356 155.778 5.69762 155.73 5.70246H155.648Z" fill="#1E1F1C"/>
          <path d="M155.501 2.45459C154.807 2.45347 154.129 2.65812 153.551 3.04262C152.974 3.42712 152.524 3.97418 152.258 4.61453C151.992 5.25488 151.922 5.95971 152.057 6.63978C152.192 7.31986 152.526 7.94458 153.017 8.43485C153.507 8.92511 154.132 9.25887 154.813 9.39386C155.493 9.52885 156.198 9.459 156.839 9.19315C157.48 8.9273 158.027 8.47742 158.412 7.90046C158.796 7.3235 159.001 6.64542 159 5.95208C158.999 5.02495 158.629 4.13622 157.973 3.48064C157.318 2.82506 156.428 2.45609 155.501 2.45459ZM155.501 8.59361C154.977 8.608 154.46 8.46667 154.016 8.18751C153.572 7.90835 153.221 7.5039 153.007 7.0253C152.793 6.54671 152.726 6.01547 152.814 5.49877C152.903 4.98208 153.142 4.50314 153.503 4.12252C153.863 3.74191 154.329 3.47672 154.84 3.3605C155.351 3.24428 155.886 3.28224 156.376 3.46958C156.865 3.65693 157.289 3.98524 157.592 4.413C157.895 4.84076 158.064 5.34875 158.078 5.87272C158.08 5.89632 158.08 5.91998 158.078 5.94358C158.095 6.27484 158.046 6.6061 157.934 6.91842C157.822 7.23075 157.65 7.51802 157.428 7.76384C157.205 8.00967 156.936 8.20922 156.636 8.35111C156.336 8.49299 156.011 8.57444 155.679 8.59078C155.623 8.59361 155.563 8.59645 155.501 8.59361Z" fill="#1E1F1C"/>
          <path d="M166.98 25V7.9375H171.797C173.281 7.9375 174.594 8.26562 175.734 8.92188C176.875 9.57812 177.754 10.5117 178.371 11.7227C178.996 12.9336 179.312 14.3242 179.32 15.8945V16.9844C179.32 18.5938 179.008 20.0039 178.383 21.2148C177.766 22.4258 176.879 23.3555 175.723 24.0039C174.574 24.6523 173.234 24.9844 171.703 25H166.98ZM169.23 9.78906V23.1602H171.598C173.332 23.1602 174.68 22.6211 175.641 21.543C176.609 20.4648 177.094 18.9297 177.094 16.9375V15.9414C177.094 14.0039 176.637 12.5 175.723 11.4297C174.816 10.3516 173.527 9.80469 171.855 9.78906H169.23Z" fill="#1E1F1C"/>
          <path d="M181.816 18.543C181.816 17.3008 182.059 16.1836 182.543 15.1914C183.035 14.1992 183.715 13.4336 184.582 12.8945C185.457 12.3555 186.453 12.0859 187.57 12.0859C189.297 12.0859 190.691 12.6836 191.754 13.8789C192.824 15.0742 193.359 16.6641 193.359 18.6484V18.8008C193.359 20.0352 193.121 21.1445 192.645 22.1289C192.176 23.1055 191.5 23.8672 190.617 24.4141C189.742 24.9609 188.734 25.2344 187.594 25.2344C185.875 25.2344 184.48 24.6367 183.41 23.4414C182.348 22.2461 181.816 20.6641 181.816 18.6953V18.543ZM183.996 18.8008C183.996 20.207 184.32 21.3359 184.969 22.1875C185.625 23.0391 186.5 23.4648 187.594 23.4648C188.695 23.4648 189.57 23.0352 190.219 22.1758C190.867 21.3086 191.191 20.0977 191.191 18.543C191.191 17.1523 190.859 16.0273 190.195 15.168C189.539 14.3008 188.664 13.8672 187.57 13.8672C186.5 13.8672 185.637 14.293 184.98 15.1445C184.324 15.9961 183.996 17.2148 183.996 18.8008Z" fill="#1E1F1C"/>
          <path d="M201.164 23.4648C201.938 23.4648 202.613 23.2305 203.191 22.7617C203.77 22.293 204.09 21.707 204.152 21.0039H206.203C206.164 21.7305 205.914 22.4219 205.453 23.0781C204.992 23.7344 204.375 24.2578 203.602 24.6484C202.836 25.0391 202.023 25.2344 201.164 25.2344C199.438 25.2344 198.062 24.6602 197.039 23.5117C196.023 22.3555 195.516 20.7773 195.516 18.7773V18.4141C195.516 17.1797 195.742 16.082 196.195 15.1211C196.648 14.1602 197.297 13.4141 198.141 12.8828C198.992 12.3516 199.996 12.0859 201.152 12.0859C202.574 12.0859 203.754 12.5117 204.691 13.3633C205.637 14.2148 206.141 15.3203 206.203 16.6797H204.152C204.09 15.8594 203.777 15.1875 203.215 14.6641C202.66 14.1328 201.973 13.8672 201.152 13.8672C200.051 13.8672 199.195 14.2656 198.586 15.0625C197.984 15.8516 197.684 16.9961 197.684 18.4961V18.9062C197.684 20.3672 197.984 21.4922 198.586 22.2812C199.188 23.0703 200.047 23.4648 201.164 23.4648Z" fill="#1E1F1C"/>
          <path d="M216.023 21.6367C216.023 21.0508 215.801 20.5977 215.355 20.2773C214.918 19.9492 214.148 19.668 213.047 19.4336C211.953 19.1992 211.082 18.918 210.434 18.5898C209.793 18.2617 209.316 17.8711 209.004 17.418C208.699 16.9648 208.547 16.4258 208.547 15.8008C208.547 14.7617 208.984 13.8828 209.859 13.1641C210.742 12.4453 211.867 12.0859 213.234 12.0859C214.672 12.0859 215.836 12.457 216.727 13.1992C217.625 13.9414 218.074 14.8906 218.074 16.0469H215.895C215.895 15.4531 215.641 14.9414 215.133 14.5117C214.633 14.082 214 13.8672 213.234 13.8672C212.445 13.8672 211.828 14.0391 211.383 14.3828C210.938 14.7266 210.715 15.1758 210.715 15.7305C210.715 16.2539 210.922 16.6484 211.336 16.9141C211.75 17.1797 212.496 17.4336 213.574 17.6758C214.66 17.918 215.539 18.207 216.211 18.543C216.883 18.8789 217.379 19.2852 217.699 19.7617C218.027 20.2305 218.191 20.8047 218.191 21.4844C218.191 22.6172 217.738 23.5273 216.832 24.2148C215.926 24.8945 214.75 25.2344 213.305 25.2344C212.289 25.2344 211.391 25.0547 210.609 24.6953C209.828 24.3359 209.215 23.8359 208.77 23.1953C208.332 22.5469 208.113 21.8477 208.113 21.0977H210.281C210.32 21.8242 210.609 22.4023 211.148 22.832C211.695 23.2539 212.414 23.4648 213.305 23.4648C214.125 23.4648 214.781 23.3008 215.273 22.9727C215.773 22.6367 216.023 22.1914 216.023 21.6367Z" fill="#1E1F1C"/>
        </svg>
      </a>

      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a href="../../../../../saas-cli/" class="navbar-item">SaaS CLI</a>
        <a href="../../../../../paas/" class="navbar-item">PaaS</a>
        <div class="navbar-item navbar-item--button">
          <span class="control">
            <a class="button is-primary" href="https://docs.magnolia-cms.com" target="_blank">DX Core docs</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <!--<div class="lower-head">-->

  <!--</div>-->
</header>
<div class="body">
<div class="nav-container" data-component="saas" data-version="CLOUD-886">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="dark-green"><span class="icon"><i class="fa fa-cloud fa-2x"></i></span></span> <span class="larger"><strong>Magnolia SaaS</strong></span></span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../">Magnolia SaaS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../sign-up/">Sign up to Magnolia SaaS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../login/">Log in to Magnolia SaaS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../faqs/">FAQs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../hello-saas/">Hello SaaS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../hello-saas/clone-repo/">Clone tutorial repo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../hello-saas/connect-with-git/">Connect the repo to Magnolia SaaS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../hello-saas/configure-magnolia/">Configure Magnolia SaaS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../hello-saas/react-app/">Set up the React App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../hello-saas/netlify/">Deploy to Netlify</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../hello-saas/netlify-environments/">Netlify environments</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Manage Magnolia SaaS</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../subscription-management/">Manage your subscription</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../subscription-management/usage-reports/">Usage reports</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../user-management/">Manage your users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../user-management/user-roles/">Magnolia SaaS user groups</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../">Developers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../connect-with-git/">Connect with Git</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="./">Delivery API</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Magnolia SaaS</span>
    <span class="version">CLOUD-886</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">DX Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../product-docs/6.2/">6.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Magnolia PaaS</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../paas/">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Magnolia SaaS</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../">master</a>
        </li>
        <li class="version is-current">
          <a href="../../../">CLOUD-886</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Magnolia SaaS CLI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../../saas-cli/">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">CLOUD-886</button>
  <div class="version-menu">
    <a class="version" href="../../../../developers/api/delivery-endpoint/">master</a>
    <a class="version is-current" href="./">CLOUD-886</a>
  </div>
</div>
  <a href="../../../../" class="home-link"></a>

<nav class="breadcrumbs" aria-label="breadcrumbs">
  <span class="breadcrumbs-home">
    <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 4L5 0L10 4V10H6V7H4V10H0V4Z" fill="#1E1F1C"/>
    </svg>
  </span>
  <ul>
    <li><a href="../../../">Magnolia SaaS</a></li>
    <li><a href="../../">Developers</a></li>
    <li><a href="./">Delivery API</a></li>
  </ul>
</nav>

</div>
  <div class="content">
<article class="doc">
<h1 class="page">Delivery API</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page describes the <code>delivery</code> endpoint for obtaining JCR data as JSON with Magnolia SaaS.</p>
</div>
<div class="paragraph">
<p><strong>The <code>&lt;magnolia-base-path&gt;</code> for the Delivery API is:</strong> <code>delivery.magnolia-cloud.com</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can define multiple endpoint configurations to serve different needs. Each configured endpoint is accessed through a distinct the <code>endpointPath</code> property and provides three methods.</p>
</div>
<div class="paragraph">
<p>The methods, called with HTTP <span class="get">GET</span>, allow you to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_read_node">read a node</a> (<em>and its subnodes</em>) <em>by a given path</em></p>
</li>
<li>
<p><a href="#_get_children">get children of a node</a> <em>as well as</em></p>
</li>
<li>
<p><a href="#_query_nodes">query nodes</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to use the Delivery API, you must have your <code>subscription_id_token</code> which is provided to you upon signing up for Magnolia SaaS.</p>
</div>
<div class="paragraph">
<p>Magnolia SaaS requires that you pass your <code>subscription_id_token</code> either as a Custom HTTP Header or as a query parameter when using the endpoint:</p>
</div>
<div class="listingblock">
<div class="title">Pass subscription_id_token in Custom HTTP Header</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-curl hljs" data-lang="curl">curl GET -H "x-subscription_id_token: YOUR_&lt;subscription_id_token&gt; <a href="http://delivery.magnolia-cloud.com"" class="bare">http://delivery.magnolia-cloud.com"</a></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Pass subscription_id_token as query parameter</div>
<div class="content">
<pre class="highlightjs highlight"><code><a href="http://delivery.magnolia-cloud.com/ep/travel/about/main?subscription_id_token=&lt;YOUR_subscription_id_token&gt" class="bare">http://delivery.magnolia-cloud.com/ep/travel/about/main?subscription_id_token=&lt;YOUR_subscription_id_token&gt</a>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_methods"><a class="anchor" href="#_methods"></a>Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_read_node">Read node</a></p>
</li>
<li>
<p><a href="#_get_children">Get children</a></p>
</li>
<li>
<p><a href="#_query_nodes">Query nodes</a></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Sending a request to a URI that ends with just the <code>endpointPath</code> invokes the <strong>Query nodes</strong> method. It is irrelevant if you add the trailing slash (<code>/</code>) or omit the slash to the <code>endpointPath</code>:</p>
</div>
<div class="paragraph">
<p><span class="get">GET</span> <code>&lt;magnolia-base-path&gt;/endpointPath/</code></p>
</div>
<div class="paragraph">
<p><span class="get">GET</span> <code>&lt;magnolia-base-path&gt;/endpointPath</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_read_node"><a class="anchor" href="#_read_node"></a>Read node</h3>
<div class="paragraph">
<p>Returns one node by a given path including its properties and child nodes down to a certain depth. Child nodes are returned in the natural order.</p>
</div>
<div class="sect3">
<h4 id="_request_url"><a class="anchor" href="#_request_url"></a>Request URL</h4>
<div class="paragraph">
<p><span class="get">GET</span> <code>&lt;magnolia-base-path&gt;/endpointPath/{path}</code></p>
</div>
<div class="sect4">
<h5 id="_parameters"><a class="anchor" href="#_parameters"></a>Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>path</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>required</em> The path relative to the <code>rootPath</code> defined in the <a href="#_configuration">configuration</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_example"><a class="anchor" href="#_example"></a>Example</h4>
<div class="paragraph">
<p>Get all component nodes of the <code>main</code> area of the <code>/travel/about</code> page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl "http://delivery.magnolia-cloud.com/magnoliaAuthor/delivery/ep/travel/about/main?subscription_id_token=YOUR_subscription_id_token"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    "@name": "main",
    "@path": "/travel/about/main",
    "@id": "f3b2681f-e747-4ff6-bcbb-2a9a9f01553e",
    "@nodeType": "mgnl:area",
    "00": {
        "@name": "00",
        "@path": "/travel/about/main/00",
        "@id": "01db6fc1-78af-4284-adf0-8c997309df6a",
        "@nodeType": "mgnl:component",
        "text": "&lt;p&gt;We are a full service, independent travel agency.&lt;/p&gt;\n&lt;p&gt;We offer unique tours from every continent on the planet. Get inspired and book your tour with us for an experience youâ€™ll always remember.&lt;/p&gt; ",
        "imagePosition": "below",
        "headlineLevel": "small",
        "headline": "About Magnolia Travels",
        "@nodes": [
        ]
    },
    "04": {
        "@name": "04",
        "@path": "/travel/about/main/04",
        "@id": "834ef0b0-1519-4834-b1f5-4166ae004ac0",
        "@nodeType": "mgnl:component",
        "layout": "8x4",
        "@nodes": [
        ]
    },
    "@nodes": [
        "00",
        "04"
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This result is returned for the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
bypassWorkspaceAcls: true
depth: 2
nodeTypes:
 - mgnl:area
childNodeTypes:
 - mgnl:component</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_get_children"><a class="anchor" href="#_get_children"></a>Get children</h3>
<div class="paragraph">
<p>This method is a special variant of the read node method. It uses the <code>@nodes</code> handle to retrieve child nodes of a path in a configured endpoint. To use the handle, append it to the path of a URI:</p>
</div>
<div class="sect3">
<h4 id="_request_url_2"><a class="anchor" href="#_request_url_2"></a>Request URL</h4>
<div class="paragraph">
<p><span class="get">GET</span> <code>&lt;magnolia-base-path&gt;/.rest/endpointPath/{path}@nodes</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The items in the response are returned in their natural (unsorted) order. See also the <code>orderBy</code> parameter in the <a href="#_query_nodes">query nodes</a> method.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h4>
<div class="sect4">
<h5 id="_get_child_nodes_in_the_root_of_the_ep_endpoint"><a class="anchor" href="#_get_child_nodes_in_the_root_of_the_ep_endpoint"></a>Get child nodes in the root of the <code>ep</code> endpoint:</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl "http://delivery.magnolia-cloud.com/magnoliaAuthor/delivery/ep/@nodes?subscription_id_token=YOUR_subscription_id_token"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">[
    {
        "@name": "travel",
        "@path": "/travel",
        "@id": "b06b82a2-74b0-4994-8015-028c4fd60716",
        "@nodeType": "mgnl:page",
        "position": "bottom",
        "header": "Cookies are used on this website!",
        "layout": "block",
        "readMoreLinkexternal": "https://cookiesandyou.com/",
        "description": "Magnolia Travels is a demonstration project for Magnolia CMS. Browse the site to get an overview of Magnolia CMS features, and learn how to edit the content online. Or download the project and dig into the sources to learn the key templating features of Magnolia CMS.",
        "link": "Learn more ...",
        "title": "Travel Home",
        "dismiss": "Got it!",
        "bannerbackground": "#000",
        "deny": "Decline cookies",
        "message": "This website uses cookies to ensure you get the best experience on our website.",
        "readMoreLink": "external",
        "complianceType": "info",
        "buttontext": "#fff",
        "buttonbackground": "#ef6155",
        "hideInNav": "false",
        "searchResultPage": "6df1ebd8-fc9d-4db3-8539-02829c56b9f2",
        "allow": "Allow cookies",
        "keywords": "Magnolia CMS, Open Source CMS, Content management, Demonstration project, Demo project, Demo, Online demo, Website builder",
        "@nodes": [
        ]
    },
    {
        "@name": "sportstation",
        "@path": "/sportstation",
        "@id": "5f26a93e-9d21-4231-9e60-c8edbb0d339d",
        "@nodeType": "mgnl:page",
        "hideInNav": "false",
        "description": "Magnolia Travels is a demonstration project for Magnolia CMS. Browse the site to get an overview of Magnolia CMS features, and learn how to edit the content online. Or download the project and dig into the sources to learn the key templating features of Magnolia CMS.",
        "title": "Sportstation",
        "keywords": "Magnolia CMS, Open Source CMS, Content management, Demonstration project, Demo project, Demo, Online demo, Website builder",
        "@nodes": [
        ]
    }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This result is returned for the endpoint called <code>ep</code> with the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
bypassWorkspaceAcls: true
nodeTypes:
 - mgnl:page</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_get_child_nodes_in_the_root_of_the_travel_page"><a class="anchor" href="#_get_child_nodes_in_the_root_of_the_travel_page"></a>Get child nodes in the root of the <code>/travel</code> page:</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>curl "http://delivery.magnolia-cloud.com/magnoliaAuthor/delivery/ep/travel/@nodes?subscription_id_token=YOUR_subscription_id_token"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">[
    {
        "@name": "tour-type",
        "@path": "/travel/tour-type",
        "@id": "05872876-073e-40a3-a3c5-0d0a18c1d43d",
        "@nodeType": "mgnl:page",
        "hideInNav": "false",
        "navigationTitle": "Tours",
        "title": "Tour Types",
        "@nodes": [
        ]
    },
    {
        "@name": "destination",
        "@path": "/travel/destination",
        "@id": "028a4a92-35df-45a3-b6ff-58381db74eb5",
        "@nodeType": "mgnl:page",
        "hideInNav": "false",
        "title": "Destinations",
        "@nodes": [
        ]
    },
    {
        "@name": "tour",
        "@path": "/travel/tour",
        "@id": "af4cd608-2dda-4535-a5e0-703ef92fd45a",
        "@nodeType": "mgnl:page",
        "hideInNav": "true",
        "title": "Tour detail",
        "@nodes": [
        ]
    },
    {
        "@name": "stories",
        "@path": "/travel/stories",
        "@id": "f8cbedd6-df91-4d7c-a952-2dc414d97704",
        "@nodeType": "mgnl:page",
        "title": "Stories",
        "@nodes": [
        ]
    },
    {
        "@name": "about",
        "@path": "/travel/about",
        "@id": "808ebe4c-72b2-49f1-b9f7-e7db22bce02f",
        "@nodeType": "mgnl:page",
        "hideInNav": "false",
        "title": "About",
        "@nodes": [
        ]
    },
    {
        "@name": "contact",
        "@path": "/travel/contact",
        "@id": "53b073cc-ea3a-4e44-bdea-8c8a790b55c5",
        "@nodeType": "mgnl:page",
        "hideInNav": "false",
        "title": "Contact",
        "@nodes": [
        ]
    },
    {
        "@name": "meta",
        "@path": "/travel/meta",
        "@id": "7ebd74f1-c6f7-4307-9953-afd549118a56",
        "@nodeType": "mgnl:page",
        "hideInNav": "true",
        "title": "Container for meta pages",
        "@nodes": [
        ]
    },
    {
        "@name": "book-tour",
        "@path": "/travel/book-tour",
        "@id": "60e1aa3e-23d6-4200-ad28-20c3b969ab89",
        "@nodeType": "mgnl:page",
        "hideInNav": "true",
        "title": "Book your tour",
        "@nodes": [
        ]
    },
    {
        "@name": "members",
        "@path": "/travel/members",
        "@id": "39257043-9524-49a8-bcf2-934ac797eddf",
        "@nodeType": "mgnl:page",
        "hideInNav": "false",
        "description": "Exclusive content, tips and special discounts for registered members.",
        "title": "Members",
        "@nodes": [
        ]
    },
    {
        "@name": "tour-finder",
        "@path": "/travel/tour-finder",
        "@id": "d25e69d9-27d0-4477-824c-7cc0714c97ce",
        "@nodeType": "mgnl:page",
        "hideInNav": "true",
        "title": "Tour Finder",
        "@nodes": [
        ]
    },
    {
        "@name": "tour-tag",
        "@path": "/travel/tour-tag",
        "@id": "a045a2d0-7b1c-466c-88bc-28352749959c",
        "@nodeType": "mgnl:page",
        "hideInNav": "true",
        "title": "Tagged tours",
        "@nodes": [
        ]
    }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This result is returned for the endpoint called <code>ep</code> with the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
bypassWorkspaceAcls: true
nodeTypes:
 - mgnl:page</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_query_nodes"><a class="anchor" href="#_query_nodes"></a>Query nodes</h3>
<div class="paragraph">
<p>Returns a list of nodes matching a query composed of the query parameters provided. You can also apply filters to the query.</p>
</div>
<div class="sect3">
<h4 id="_request_url_3"><a class="anchor" href="#_request_url_3"></a>Request URL</h4>
<div class="paragraph">
<p><span class="get">GET</span>
<code>&lt;magnolia-base-path&gt;/endpointPath?param1=value1&amp;param2=value2&amp;&#8230;&#8203;</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use any of the optional query parameters or none.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_parameters_2"><a class="anchor" href="#_parameters_2"></a>Parameters</h5>
<div class="paragraph">
<p>The parameters below are query parameters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>&lt;filter&gt;</code> option is not a parameter but acts as a filter for the response of the operation.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>q</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>optional</em></p>
</div>
<div class="paragraph">
<p>A search phrase (full-text search).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orderBy</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>optional</em></p>
</div>
<div class="paragraph">
<p>The properties by which to order the nodes. As of Magnolia 6.2.6, sorting is case-insensitive.</p>
</div>
<div class="paragraph">
<p>The result may be returned either in the ascending ( asc ) order or in the descending ( desc ) order. The ascending order is applied if the direction is not set.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p><code>mgnl:lastModified desc,title asc</code></p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Special characters such as a space (   ) must be encoded when sent in an HTTP request. When using tools to generate a REST request, this may happen automatically. With simple cURL you must encode it manually or with an additional tool.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p><code>orderBy=title%20desc</code></p>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Up to Magnolia 5.6.5, the results provided by the endpoint were sorted alphabetically on node names (same as with the <code>ORDER BY LOWER(NAME(t))</code> statement in the JCR-SQL2 query) even though no <code>orderBy</code> parameter was set in the request URL.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The results are returned unsorted if no <code>orderBy</code> parameter is set. This however does not mean "in natural order" since many other aspects may be involved, such as the setting of the <code>respectDocumentOrder</code> property or index consistency.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>offset</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>optional</em></p>
</div>
<div class="paragraph">
<p>The start position in a result list (for pagination). Default is <code>0</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>limit</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>optional</em></p>
</div>
<div class="paragraph">
<p>The number of nodes displayed in a page query. Use together with <code>offset</code> for pagination.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>optional</em></p>
</div>
<div class="paragraph">
<p>Allows you to retrieve and preview a specific version of a content item. The request URL must be formed with <code>preview</code> in the path.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Example</div>
<div class="content">
<div class="paragraph">
<p>Let there be a page <code>/fldr/pg1</code> which can be delivered through the <code>ep</code> endpoint using the URL</p>
</div>
<div class="paragraph">
<p>Provided two versions, <code>1.0</code> and <code>1.1</code>, exist for the page, you can use the following URLs to request the versions <code>1.0</code> and <code>1.1</code>, respectively:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The following assumes you have passed your subscription_id_token in the Authorization Header. If you prefer, you can pass it as a query parameter as such <code>&lt;endpoint&gt;?subscription_id_token=YOUR_subscription_id_token</code>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>`https://delivery.magnolia-cloud.com/preview/ep/fldr/pg1?version=1.0`

`https://delivery.magnolia-cloud.com/preview/ep/fldr/pg1?version=1.1`</code></pre>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;filter&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>optional</em></p>
</div>
<div class="paragraph">
<p>There are multiple filter options to filter for a property of the node, for node names, for nodes which must be ancestors of a given path, and so on. You can combine filters with an <code>AND</code> operator.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_filters"><a class="anchor" href="#_filters"></a>Filters</h4>
<div class="paragraph">
<p><code>queryNodes</code> provides a filtering mechanism. Filters are added as
request parameters. Filter values must be properly URL-encoded. You can
use multiple filters within the same request.</p>
</div>
<div class="sect4">
<h5 id="_filter_format"><a class="anchor" href="#_filter_format"></a>Filter format</h5>
<div class="paragraph">
<p>The filter parameter has the following format:
<code>property[operator]=value</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Example filter used in a URL</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>http://delivery.magnolia-cloud.com/magnoliaAuthor/my-endpoint?description[like]=%25demonstration%25</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In some REST clients, you may need to URL-encode also the key
in the filter parameter. For example:
<code><a href="http://delivery.magnolia-cloud.com/magnoliaAuthor/my-endpoint?description" class="bare">http://delivery.magnolia-cloud.com/magnoliaAuthor/my-endpoint?description</a></code><strong><code>%5B</code></strong><code>like</code><strong><code>%5D</code></strong><code>=%25demonstration%25</code></p>
</div>
<div class="paragraph">
<p>See also The RFC standard called <em>Uniform Resource
Identifier (URI): Generic Syntax</em>
(<a href="https://tools.ietf.org/html/rfc3986#section-2.2" target="_blank" rel="noopener">https://tools.ietf.org/html/rfc3986#section-2.2</a>)</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_filtering"><a class="anchor" href="#_filtering"></a>Filtering</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_filter_operators"><a class="anchor" href="#_filter_operators"></a>Filter operators</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>eq</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>=</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ne</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>gt</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>lt</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>lte</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&#8656;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>gte</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&gt;=</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>in</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>IN</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>not-in</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NOT IN</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>like</code></p>
</div>
<div class="paragraph">
<p>Can be used with:</p>
</div>
<div class="paragraph">
<p><code>%</code> (percentage, URL encoded as <code>%25</code>)</p>
</div>
<div class="paragraph">
<p><code>_</code> (underscore)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>LIKE</code></p>
</div>
<div class="paragraph">
<p>Can be used with:</p>
</div>
<div class="paragraph">
<p><strong>Percentage</strong> - Wildcard character that can be used in the search pattern to mean zero or more additional characters.</p>
</div>
<div class="paragraph">
<p><strong>Underscore</strong> - Wildcard character that can be used in the search pattern to stand for any single character.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>null</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NULL</code></p>
</div>
<div class="paragraph">
<p>The value can be either <code>true</code> or <code>false</code>.</p>
</div>
<div class="paragraph">
<p>For example, sending <code>mgnl:created[null]=false</code> is equivalent to issuing <code>mgnl:created IS NOT NULL</code> in JCR query.</p>
</div>
<div class="paragraph">
<p>The operator can be used with any property.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_filter_types"><a class="anchor" href="#_filter_types"></a>Filter types</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Property filter</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Filter for a node property. The property value must be an exact match.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">author=Magnolia%20Travels</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>@name</code> property filter</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Filter by a node name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">@name=travel</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>@jcr:uuid</code> filter</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Filter by the JCR node ID (uuid). The property value must be an exact match.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">@jcr:uuid=&lt;id&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>@ancestor</code> filter</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Find nodes for which the path provided is the ancestor. The path must be absolute in the given workspace of the given workspace prefix.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">@ancestor=/travel/about/careers/marketing-associate</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_usage_notes"><a class="anchor" href="#_usage_notes"></a>Usage notes</h4>
<div class="ulist">
<ul>
<li>
<p>If no operator is provided, <code>eq</code> is used by default.</p>
</li>
<li>
<p>The <code>value</code> in the filter parameter is treated as <code>String</code>.</p>
</li>
<li>
<p>Use brackets to pass an operator, for example <code>[eq]</code>, <code>[ne]</code>, <code>[lt]</code>,
and so on.</p>
</li>
<li>
<p>For <code>in</code> and <code>not-in</code>, a range symbol <code>~</code> (the tilde) should be
provided, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">http://localhost:8080/magnoliaAuthor/.rest/my-endpoint?mgnl:created[in]=2015-12-01~2015-12-31</code></pre>
</div>
</div>
</li>
<li>
<p>Ranges are inclusive: <code>price[in]=100~200</code> is interpreted as
<code>price &gt;= 100 AND price &#8656; 200</code>.</p>
</li>
<li>
<p>For filtering by date and time, only two ISO 8601-based formats are
accepted. The patterns shown are in JAVA notation
(<code>java.text.SimpleDateFormat</code>):</p>
<div class="ulist">
<ul>
<li>
<p>Date: <code>yyyy-MM-dd</code></p>
<div class="listingblock">
<div class="content">
<pre>2018-01-01</pre>
</div>
</div>
</li>
<li>
<p>Datetime: <code>yyyy-MM-dd&#8217;T&#8217;HH:mm:ss.SSSXXX</code></p>
<div class="listingblock">
<div class="content">
<pre>2018-01-11T10:26:47.438+07:00</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>If a filter can take multiple possible values which must match, use
<code>|</code> (OR):</p>
<div class="listingblock">
<div class="content">
<pre>@name=travel|about</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_filtering_on_specific_languages"><a class="anchor" href="#_filtering_on_specific_languages"></a>Filtering on specific languages</h3>
<div class="paragraph">
<p>To get REST results for a specific language you may have to specify a
language suffix in the search query. Letâ€™s consider an example based on
the default installation of the Travel Demo bundle, where the content in
the Tours app (stored in the <code>tours</code> workspace) is available both in
English and in German and English is the default language for the site.</p>
</div>
<div class="paragraph">
<p>Searching for <em>Erleben</em> in the content of the <code>body</code> properties of the
workspace by sending a query such as
<code>http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?bodylike=%Erleben%</code>
yields no results since <em>Erleben</em> is present only in the German content
variant:</p>
</div>
<div class="paragraph">
<p><span class="image zoom"><img src="../../../../../product-docs/6.2/_images/6-2-DeliveryEndpointAPIV2-erlebenJCR.png" alt="image" width="600"></span></p>
</div>
<div class="paragraph">
<p>In the search query you need specify the language by appending - in this
case - the <code>_de</code> suffix to the <code>body</code> property and re-send
<code>http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?body_delike=%Erleben%</code>
instead. Only this will return a result (click the link to expand to see
the actual result):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    "results": [
        {
            "@name": "Kyoto",
            "@path": "/magnolia-travels/Kyoto",
            "@id": "b475f27e-2929-427b-9517-815118a3b36e",
            "@nodeType": "mgnl:content",
            "name": "Kyoto",
            "description": "The natural side of Japan",
            "location": "Kyoto, Japan",
            "tourTypes": [
                "d2245867-ecaa-4b4e-8743-e0c939be68b7",
                "415025c6-e4b5-4506-9384-34f428a52104"
            ],
            "author": "Magnolia Travels",
            "body": "&lt;p&gt;Experience the still beauty that permeates and surrounds Kyoto. Kyoto is famous for many things, including countless &lt;a href=\"http://www.japan-guide.com/e/e2058.html\" style=\"text-decoration:none;\" target=\"_blank\"&gt;&lt;u&gt;temples&lt;/u&gt;&lt;/a&gt;, &lt;a href=\"http://www.japan-guide.com/e/e2059.html\" style=\"text-decoration:none;\" target=\"_blank\"&gt;&lt;u&gt;shrines&lt;/u&gt;&lt;/a&gt; and other fascinating historical buildings.&lt;/p&gt;\n&lt;p&gt;Join us on a visit to the City of Ten Thousand Shrines. We'll visit TÅ-ji, Ginkaku-ji, KÅzan-ji and their remarkable gardens before venturing into the mountains that surround the city. Youâ€™ll enjoy a day spent in green Miyama and a day hiking in Shizuhara. Youâ€™ll never think about Japan in the same way again.&lt;/p&gt; ",
            "destination": [
                "7ec72c48-c33f-418e-b2ff-44cfb4bbb1f2"
            ],
            "duration": "7",
            "image": "jcr:44689d29-5966-4d41-8fd4-2dc7da783528",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This result is returned for the endpoint called <code>ep</code> with the following
configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: tours
bypassWorkspaceAcls: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that in spite of searching within <code>body_de</code> the content in the
output is in English. This is caused by sending the <code>en</code> value in the
<code>Content-Language</code> header sent along with the query. To obtain a
response with content in German, you would need to append <code>&amp;lang=de</code> to
the query.</p>
</div>
<div class="paragraph">
<p>If you try to find the English equivalent (<em>Experience</em>), you must not
specify the <code>_en</code> suffix since English is the siteâ€™s default language.
Using this suffix in the query returns an empty result set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"results":[]}</pre>
</div>
</div>
<div class="paragraph">
<p>Thereâ€™s no property <code>body_en</code> present in the <code>tours</code> workspace.</p>
</div>
<div class="paragraph">
<p>Alternatively, try searching with a more general search query such as
<code>http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?q=Erleben</code>
which will also return a response where <em>Erleben</em> appears in the JCR
(endpoint configuration is same as the one above):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
  "results": [{
    "@name": "North-Sea-Islands",
    "@path": "/magnolia-travels/North-Sea-Islands",
    "@id": "a2a00b27-7e39-4230-8c79-3ffc5a678a15",
    "@nodeType": "mgnl:content",
    "name": "North Sea Islands",
    "description": "At the mercy of the sea",
    "location": "Hamburg, Germany",
    "tourTypes": ["e007e401-1bf8-4658-8293-b9c743784264", "d2245867-ecaa-4b4e-8743-e0c939be68b7"],
    "author": "Magnolia Travels",
    "body": "&lt;p&gt;Off Germanyâ€™s coast in the North Sea lie the remote, romantic Halligen islands. Here, youâ€™ll experience a unique environment and way of life shaped by the tides. Houses here are built on meter high man-made hills called Warften to keep them above the sea-floods - known here as Land Unter. The islands are traced with tiny canals to drain the water after storms. But the locals, some 400 people, have also installed dams to let the silt settle out of the water. They must rely on this to slowly build up the height of the islands. Itâ€™s like a slow-motion race against erosion and rising oceans. Speaking of slow - youâ€™ll have plenty of opportunity to enjoy the island pastimes like the local card game (also called Land Unter), flying kites, or just wandering the wind-buffeted pastures, lightly populated with happy sheep and contented cows.&lt;/p&gt;\n&lt;p&gt;Our trip will include walks on the extensive salt coated mudflats of this &lt;a href=\"http://www.germany.travel/en/towns-cities-culture/unesco-world-heritage/the-wadden-sea.html\" style=\"text-decoration:none;\" target=\"_blank\"&gt;&lt;u&gt;World Heritage&lt;/u&gt;&lt;/a&gt; nature reserve, where youâ€™ll be able to observe some rare birdlife. Weâ€™ll discover many other fascinating critters, like ants that have adapted to build special nests that can withstand the periodic flooding. The broken remnants of houses and household goods to be found on the flats are a reminder of the elemental forces which shape the islands, and our tenuous relationship with them.&lt;/p&gt; ",
    "destination": ["6cc50e28-fb0e-4e49-b3b6-728690a2e861"],
    "duration": "7",
    "image": "jcr:7f3cbb8f-a909-47da-b678-543ce6f244b9",
    "@nodes": []
  }, {
    "@name": "Lapland-for-Families",
    "@path": "/magnolia-travels/Lapland-for-Families",
    "@id": "705051cb-c0c3-43b2-b5fa-c571b5d5d2d4",
    "@nodeType": "mgnl:content",
    "isFeatured": "true",
    "name": "Lapland for Families",
    "description": "Your own Arctic Circle adventure",
    "location": "KittilÃ¤, Finland",
    "tourTypes": ["415025c6-e4b5-4506-9384-34f428a52104", "17da160b-da66-4e09-9e31-5fd040880f4a"],
    "author": "Magnolia Travels",
    "body": "&lt;p&gt;Enjoy a family winter adventure in Lapland, Sweden where sledding, husky sledding and ice skating are all on the menu. We lend you toboggans for sledding, and there are gentle hills right outside your cabin. For something more adventurous, join our â€˜crazy slopeâ€™ days out. Children will love the chance to drive their own sled, and snowballs and snowmen are possible any time of the day. Youâ€™ll also get the chance to experience the spectacular Northern Lights.&lt;/p&gt;\n&lt;p&gt;&lt;br /&gt; At Christmas time, children can also join visits to Santa and his famous grotto, going on a unique snowmobile journey to see where Santa manages all his toy operations.&lt;/p&gt; ",
    "destination": ["ee483660-15cd-490d-b709-884b3f130286"],
    "duration": "7",
    "image": "jcr:71b9a58b-3c78-41bd-9fe4-17ce0f3b5dd4",
    "@nodes": []
  }, {
    "@name": "Kyoto",
    "@path": "/magnolia-travels/Kyoto",
    "@id": "b475f27e-2929-427b-9517-815118a3b36e",
    "@nodeType": "mgnl:content",
    "name": "Kyoto",
    "description": "The natural side of Japan",
    "location": "Kyoto, Japan",
    "tourTypes": ["d2245867-ecaa-4b4e-8743-e0c939be68b7", "415025c6-e4b5-4506-9384-34f428a52104"],
    "author": "Magnolia Travels",
    "body": "&lt;p&gt;Experience the still beauty that permeates and surrounds Kyoto. Kyoto is famous for many things, including countless &lt;a href=\"http://www.japan-guide.com/e/e2058.html\" style=\"text-decoration:none;\" target=\"_blank\"&gt;&lt;u&gt;temples&lt;/u&gt;&lt;/a&gt;, &lt;a href=\"http://www.japan-guide.com/e/e2059.html\" style=\"text-decoration:none;\" target=\"_blank\"&gt;&lt;u&gt;shrines&lt;/u&gt;&lt;/a&gt; and other fascinating historical buildings.&lt;/p&gt;\n&lt;p&gt;Join us on a visit to the City of Ten Thousand Shrines. We'll visit TÅ-ji, Ginkaku-ji, KÅzan-ji and their remarkable gardens before venturing into the mountains that surround the city. Youâ€™ll enjoy a day spent in green Miyama and a day hiking in Shizuhara. Youâ€™ll never think about Japan in the same way again.&lt;/p&gt; ",
    "destination": ["7ec72c48-c33f-418e-b2ff-44cfb4bbb1f2"],
    "duration": "7",
    "image": "jcr:44689d29-5966-4d41-8fd4-2dc7da783528",
    "@nodes": []
  }, {
    "@name": "Jordan-s-Pearls",
    "@path": "/magnolia-travels/Jordan-s-Pearls",
    "@id": "3351f7b2-e67b-4dbd-a6c6-7394eaf86d36",
    "@nodeType": "mgnl:content",
    "isFeatured": "false",
    "name": "Jordanâ€™s Pearls",
    "description": "Seeking the crossroads of civilisations ",
    "location": "Amman, Jordan",
    "tourTypes": ["e007e401-1bf8-4658-8293-b9c743784264"],
    "author": "Magnolia Travels",
    "body": "&lt;p&gt;This trip will give you a deep insight into the Middle East, allowing you to not only experience its rich and ancient heritage, but also to get a glimpse into daily life. The trip starts by flying into Amman, capital of Jordan. Shortly outside the city, weâ€™ll take you to visit the breath-taking UNESCO world heritage site of Petra, an ancient city carved into the red rock by Nabateans. It is one of the worldâ€™s most important archaeological sites.&lt;/p&gt;\n&lt;p&gt;From there, weâ€™ll go by road to Jerash, often called the â€˜Pompeii of the Eastâ€™. The ancient Roman ruins at Jerash are famous for their remarkable state of preservation.&lt;/p&gt; ",
    "destination": ["79da73f7-900b-4c91-b58b-3b1355485519"],
    "duration": "7",
    "image": "jcr:2b51aaf3-dc5a-4012-89e5-d3b3dd6c08cb",
    "@nodes": []
  }]
}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For i18n features to work correctly, check that the fallback site has
locales configured or extends a site definition with desired locales.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_retrieving_all_language_variants"><a class="anchor" href="#_retrieving_all_language_variants"></a>Retrieving all language variants</h4>
<div class="paragraph">
<p>You can also use <code>all</code> as the value of the <code>lang</code> property to retrieve all language variants of content. Compare below the three requests and responses issued against the <code>ep</code> endpoint configured as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
bypassWorkspaceAcls: true
rootPath: /travel/book-tour/

nodeTypes:
 - mgnl:page</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lang_set_to_all"><a class="anchor" href="#_lang_set_to_all"></a><code>lang</code> set to <code>all</code></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?lang=all</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "results": [
        {
            "@name": "meal",
            "@path": "/travel/book-tour/meal",
            "@id": "9b8ea1b2-a93f-4015-a822-84d730ca982a",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "Meal",
            "title_de": "MenÃ¼",
            "@nodes": [
            ]
        },
        {
            "@name": "review",
            "@path": "/travel/book-tour/review",
            "@id": "17680c5a-82b2-49e8-b078-186b1ab9284d",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "Review",
            "title_de": "ÃœberprÃ¼fung",
            "@nodes": [
            ]
        },
        {
            "@name": "personal-details",
            "@path": "/travel/book-tour/personal-details",
            "@id": "829ee1ee-4a74-4fca-8dc1-87f473eedd32",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "Personal details",
            "title_de": "PersÃ¶nliche Angaben",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lang_not_set"><a class="anchor" href="#_lang_not_set"></a><code>lang</code> not set</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "results": [
        {
            "@name": "meal",
            "@path": "/travel/book-tour/meal",
            "@id": "9b8ea1b2-a93f-4015-a822-84d730ca982a",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "Meal",
            "@nodes": [
            ]
        },
        {
            "@name": "review",
            "@path": "/travel/book-tour/review",
            "@id": "17680c5a-82b2-49e8-b078-186b1ab9284d",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "Review",
            "@nodes": [
            ]
        },
        {
            "@name": "personal-details",
            "@path": "/travel/book-tour/personal-details",
            "@id": "829ee1ee-4a74-4fca-8dc1-87f473eedd32",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "Personal details",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lang_set_to_de"><a class="anchor" href="#_lang_set_to_de"></a><code>lang</code> set to <code>de</code></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?lang=de</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "results": [
        {
            "@name": "meal",
            "@path": "/travel/book-tour/meal",
            "@id": "9b8ea1b2-a93f-4015-a822-84d730ca982a",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "MenÃ¼",
            "@nodes": [
            ]
        },
        {
            "@name": "review",
            "@path": "/travel/book-tour/review",
            "@id": "17680c5a-82b2-49e8-b078-186b1ab9284d",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "ÃœberprÃ¼fung",
            "@nodes": [
            ]
        },
        {
            "@name": "personal-details",
            "@path": "/travel/book-tour/personal-details",
            "@id": "829ee1ee-4a74-4fca-8dc1-87f473eedd32",
            "@nodeType": "mgnl:page",
            "hideInNav": "true",
            "title": "PersÃ¶nliche Angaben",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_filtering_examples"><a class="anchor" href="#_filtering_examples"></a>Filtering examples</h3>
<div class="paragraph">
<p>We assume you are <a href="https://curl.haxx.se/docs/manpage.html">familiar with
<code>cURL</code></a>. Note that cURL requires URL encoding.</p>
</div>
<div class="paragraph">
<p>See
<a href="../../../../../product-docs/6.2/Modules/List-of-modules/REST-module/Tools-to-test-REST-requests/" class="page">tools
to test REST requests</a> for other possibilities.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Find webpages in the <a href="../../../../../product-docs/6.2/Getting-started-with-Magnolia/Demo/" class="page">Travel
Demo</a> which were last modified before or on June 12, 2015:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl 'http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?mgnl:lastModified[lte]=2015-06-12' --globoff</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By using the option <code>--globoff</code> you can specify
URLs that contain the letters \{}[] without having them being
interpreted by cURL itself.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Endpoint: <code>ep</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
bypassWorkspaceAcls: true
rootPath: /
nodeTypes:
 - mgnl:page
includeSystemProperties: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "results": [
        {
            "@name": "meta",
            "@path": "/travel/meta",
            "@id": "7ebd74f1-c6f7-4307-9953-afd549118a56",
            "@nodeType": "mgnl:page",
            "jcr:createdBy": "admin",
            "hideInNav": "true",
            "mgnl:template": "travel-demo:pages/standard",
            "mgnl:lastActivatedBy": "superuser",
            "jcr:created": "2019-09-25T08:49:30.320+02:00",
            "mgnl:lastActivated": "2019-09-25T08:49:35.482+02:00",
            "mgnl:created": "2015-02-02T20:58:23.939+01:00",
            "mgnl:createdBy": "superuser",
            "title": "Container for meta pages",
            "mgnl:lastModified": "2015-06-03T20:37:49.283+02:00",
            "mgnl:activationStatus": "true",
            "mgnl:lastModifiedBy": "superuser",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
</li>
<li>
<p>Find webpages with the word <code>Customer</code> in the title.</p>
<div class="literalblock">
<div class="content">
<pre>curl -g -G "http://localhost:8080/magnoliaAuthor/.rest/delivery/ep" --data-urlencode "title[like]=%Customer%"</pre>
</div>
</div>
<div class="paragraph">
<p>Use <code>--data-urlencode</code> and <code>-g -G</code> to encode the request parameter
values, if required.</p>
</div>
<div class="paragraph">
<p>Endpoint: <code>ep</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
bypassWorkspaceAcls: true
rootPath: /
nodeTypes:
 - mgnl:page</code></pre>
</div>
</div>
<div class="paragraph">
<p>Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    "results": [
        {
            "@name": "customer-experience-agent",
            "@path": "/travel/about/careers/customer-experience-agent",
            "@id": "1f8af166-258f-4351-a543-3d0fc8bb00c0",
            "@nodeType": "mgnl:page",
            "hideInNav": "false",
            "title": "Customer Experience Agent",
            "@nodes": [
            ]
        },
        {
            "@name": "customer-experience-supervisor",
            "@path": "/travel/about/careers/customer-experience-supervisor",
            "@id": "c8e6902a-499a-44d7-9de9-45fd93d60a6b",
            "@nodeType": "mgnl:page",
            "hideInNav": "false",
            "title": "Customer Experience Supervisor",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Due to the use of a wildcard character in the URL with the <code>[like]</code>
filter the number of results can potentially be higher.</p>
</div>
</li>
<li>
<p>In the <code>website</code> workspace, find all nodes for which
<code>/travel/about/careers</code> is the ancestor:</p>
<div class="literalblock">
<div class="content">
<pre>curl 'http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?@ancestor=/travel/about/careers'</pre>
</div>
</div>
<div class="paragraph">
<p>Endpoint: <code>ep</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
bypassWorkspaceAcls: true
rootPath: /
nodeTypes:
 - mgnl:page</code></pre>
</div>
</div>
<div class="paragraph">
<p>Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    "results": [
        {
            "@name": "customer-experience-agent",
            "@path": "/travel/about/careers/customer-experience-agent",
            "@id": "1f8af166-258f-4351-a543-3d0fc8bb00c0",
            "@nodeType": "mgnl:page",
            "hideInNav": "false",
            "title": "Customer Experience Agent",
            "@nodes": [
            ]
        },
        {
            "@name": "marketing-associate",
            "@path": "/travel/about/careers/marketing-associate",
            "@id": "f19c60f2-3049-4883-a170-4bf65e3abb91",
            "@nodeType": "mgnl:page",
            "hideInNav": "false",
            "title": "Marketing Associate",
            "@nodes": [
            ]
        },
        {
            "@name": "customer-experience-supervisor",
            "@path": "/travel/about/careers/customer-experience-supervisor",
            "@id": "c8e6902a-499a-44d7-9de9-45fd93d60a6b",
            "@nodeType": "mgnl:page",
            "hideInNav": "false",
            "title": "Customer Experience Supervisor",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
</li>
<li>
<p>Find nodes in the <code>tours</code> workspace that contain the keyword
<code>beach</code>. Return the results in descending order based on the
<code>location</code> property and restrict the number of results to two:</p>
<div class="literalblock">
<div class="content">
<pre>curl 'http://localhost:8080/magnoliaAuthor/.rest/delivery/ep/?q=beach&amp;orderBy=location%20desc&amp;limit=2'</pre>
</div>
</div>
<div class="paragraph">
<p>Endpoint: <code>ep</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: tours
bypassWorkspaceAcls: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    "results": [
        {
            "@name": "Beach-Paradise-in-Brazil",
            "@path": "/magnolia-travels/Beach-Paradise-in-Brazil",
            "@id": "545d5815-a3dd-4b68-a539-c38eb1bba29b",
            "@nodeType": "mgnl:content",
            "isFeatured": "true",
            "name": "Beach Paradise in Brazil",
            "description": "An Amazonian beach holiday",
            "location": "SÃ£o LuÃ­s, Brasil",
            "tourTypes": [
                "082c340c-b062-4b15-86b8-96dd9deff680"
            ],
            "author": "Magnolia Travels",
            "body": "&lt;p&gt;When you hear â€œAmazonâ€, you probably think of a deep jungle. Well, this remarkably well hidden beach paradise is right in the middle of it. Alter do ChÃ£o lies on Rio TapajÃ³s, a tributary to the mighty Amazon, which is so wide here that you canâ€™t even see across to the far shore. Thereâ€™s plenty of nature to explore in the area on foot, but the inlet to the lake is also covered with cosy beach restaurants and bars, perfect for a post swim chill out. &lt;/p&gt;\n&lt;p&gt;No fear of crocodiles here, but there are some sting rays to watch out for. Youâ€™ll start your adventure on the two-day boat ride from Manaus (capital of the Amazon) to SantarÃ©m, but be sure to bring your own hammock (and some rope) or just some extra coins for the bar!&lt;/p&gt;\n&lt;p&gt;While youâ€™re here, youâ€™ll discover thereâ€™s much more to do than hanging out at the glorious beaches. The town lies at the entrance to the Lago Verde lagoon, home to many Amazon animals, and the perfect place to do a canoe trip. We also include tours to the beautiful Floresta Nacional do TapajÃ³s and Rio Arapiuns.&lt;/p&gt; ",
            "destination": [
                "bed2e297-199c-4dc8-90cd-54ad3cb4221b"
            ],
            "duration": "14",
            "image": "jcr:950cc73c-1b12-4f2a-bba7-97ad9d171f5d",
            "@nodes": [
            ]
        },
        {
            "@name": "West-Coast---Highway-101",
            "@path": "/magnolia-travels/West-Coast---Highway-101",
            "@id": "730c8850-d638-4e91-b3fb-4041a0c59ffe",
            "@nodeType": "mgnl:content",
            "name": "West Coast - Highway 101",
            "description": "Family travels in USA",
            "location": "Seattle, USA",
            "tourTypes": [
                "17da160b-da66-4e09-9e31-5fd040880f4a"
            ],
            "author": "Magnolia Travels",
            "body": "&lt;p&gt;Imagine walking in the footsteps of the explorers, missionaries, and soldiers who made America what it is today. Discover the famous El Camino Real (The Royal Road) based on the old trail which linked the Spanish Missions, Pueblos and Presidios.&lt;/p&gt;\n&lt;p&gt;We'll kick off in Seattle and head south into Oregon and finally to California where we'll hit the beaches on California Highway 1. The trip will be infused with history and fabulous scenery, but thereâ€™ll be lots of time for fun, with some great beach activities at the end of the trip.&lt;/p&gt; ",
            "destination": [
                "ed3dcd18-78af-46df-a9e1-bc732479f2e7"
            ],
            "duration": "7",
            "image": "jcr:d44f783c-91ca-4b48-9533-ea4e147e13e9",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
</li>
<li>
<p>Find a tour with the word <code>Japan</code> in its <code>description</code>. Return only
the variant in the German language:</p>
<div class="literalblock">
<div class="content">
<pre>curl -g -G 'http://localhost:8080/magnoliaAuthor/.rest/delivery/ep?lang=de-DE' --data-urlencode "description[like]=%Japan%"</pre>
</div>
</div>
<div class="paragraph">
<p>Note that we use <code>--data-urlencode</code> to encode one of the request
parameters, whereas the one that does not require encoding is added to
the URL directly.</p>
</div>
<div class="paragraph">
<p>Endpoint: <code>ep</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: tours
bypassWorkspaceAcls: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    "results": [
        {
            "@name": "Kyoto",
            "@path": "/magnolia-travels/Kyoto",
            "@id": "b475f27e-2929-427b-9517-815118a3b36e",
            "@nodeType": "mgnl:content",
            "name": "Kyoto",
            "description": "Die natÃ¼rliche Seite Japans",
            "location": "Kyoto, Japan",
            "tourTypes": [
                "d2245867-ecaa-4b4e-8743-e0c939be68b7",
                "415025c6-e4b5-4506-9384-34f428a52104"
            ],
            "author": "Magnolia Travels",
            "body": "&lt;p&gt;Erleben Sie die SchÃ¶nheit, die Kyoto durchdringt und umgibt. Kyoto ist berÃ¼hmt fÃ¼r viele Dinge, darunter unzÃ¤hlige &lt;a href=\"http://www.japan-guide.com/e/e2058.html\" target=\"_blank\"&gt;Tempel&lt;/a&gt;, &lt;a href=\"http://www.japan-guide.com/e/e2059.html\" target=\"_blank\"&gt;Schreine&lt;/a&gt; und andere faszinierende historische Bauwerke.&lt;/p&gt;\n&lt;p&gt;Kommen Sie mit uns auf einen Besuch der Stadt der zehntausend Schreine. Wir besuchen To-ji, Ginkaku-ji, KÅzan-ji und ihre bemerkenswerten GÃ¤rten, bevor wir einen Abstecher zu den Bergen in der Umgebung der Stadt machen. Sie werden es genieÃŸen, einen Tag im grÃ¼nen Miyama und einen Tag mit Wandern in Shizuhara zu verbringen. Sie werden nie wieder wie bisher Ã¼ber Japan denken.&lt;/p&gt; ",
            "destination": [
                "7ec72c48-c33f-418e-b2ff-44cfb4bbb1f2"
            ],
            "duration": "7",
            "image": "jcr:44689d29-5966-4d41-8fd4-2dc7da783528",
            "@nodes": [
            ]
        }
    ]
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can define multiple endpoints in this version of the delivery endpoint. The <code>endpointPath</code> property is used to access the different configured endpoints.</p>
</div>
<div class="sect2">
<h3 id="_example_2"><a class="anchor" href="#_example_2"></a>Example</h3>
<div class="paragraph">
<p>restEndpoints/delivery/my-endpoint.yaml</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: website
limit: 25
depth: 2
includeSystemProperties: true
nodeTypes:
  - mgnl:page
childNodeTypes:
  - mgnl:area
  - mgnl:component
#references</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_properties"><a class="anchor" href="#_properties"></a>Properties</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Must be <code>info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition</code> or a subclass.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>endpointPath</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>If the property is not set, the <code>endpointPath</code> is evaluated automatically.</p>
</div>
<div class="paragraph">
<p>If you set the property manually, it should not contain special characters to fit into a proper URL.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>workspace</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>The name of the JCR workspace to deliver content from.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rootPath</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>/</code></em></p>
</div>
<div class="paragraph">
<p>The root path of this endpoint.</p>
</div>
<div class="paragraph">
<p>The path information when requesting the endpoint is added to this path.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nodeTypes</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>mgnl:content</code></em></p>
</div>
<div class="paragraph">
<p>A list of allowed <a href="../../../../../product-docs/6.2/Administration/Architecture/Node-types/" class="page">node types</a> for depth-0 nodes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>childNodeTypes</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>mgnl:contentNode</code></em></p>
</div>
<div class="paragraph">
<p>A list of allowed <a href="../../../../../product-docs/6.2/Administration/Architecture/Node-types/" class="page">node types</a> for child nodes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strict</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>false</code></em></p>
</div>
<div class="paragraph">
<p>Defines whether to include only the exact node type and ignore the sub types.</p>
</div>
<div class="paragraph">
<p>If true then it is applied to both the <code>nodeTypes</code> and <code>childNodeTypes</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>depth</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>0</code></em></p>
</div>
<div class="paragraph">
<p>Specifies how deep the node tree will be traversed.</p>
</div>
<div class="paragraph">
<p>The default value (<code>0</code>) means that child nodes are excluded.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>includeSystemProperties</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>false</code></em></p>
</div>
<div class="paragraph">
<p>Specifies whether the result should show system properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>systemProperties</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>optional</em></p>
</div>
<div class="paragraph">
<p>List of system properties that should be returned in the response.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can specify the properties using a full property name, as seen on line 4 below, or using a wildcard character (line 5, to request for example <code>mgnl:lastActivatedBy</code>, <code>mgnl:createdBy</code> and so on):</p>
</div>
<div class="listingblock">
<div class="title">&lt;light-module&gt;/restEndpoints/ep.yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">class: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition
workspace: tours
bypassWorkspaceAcls: true
systemProperties:
 - mgnl:tags
 - "*By"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>systemProperties</code> property overrides the setting of the <code>includeSystemProperties</code> property. In the above example, the two system properties will be fetched even if the <code>includeSystemProperties</code> is left in the default false state.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>limit</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>10</code></em></p>
</div>
<div class="paragraph">
<p>The number of nodes (of level <code>0</code>) in the result. Used only in the <code>queryNodes</code> method.</p>
</div>
<div class="paragraph">
<p>The property can be overridden when calling <code>queryNodes</code> with a request parameter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bypassWorkspaceAcls</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>false</code></em></p>
</div>
<div class="paragraph">
<p>If set to <code>true</code>, JCR security is bypassed. Use this property with care and for development purposes only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>references</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>This property allows you to resolve referenced nodes.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
For image variations to be resolved correctly, make sure that the fallback site has theme variations configured or extends a site definition with desired variations.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>referenceDepth</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>1</code></em></p>
</div>
<div class="paragraph">
<p>Defines on how many levels the references should be considered and returned in a response if found.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>referenceRepeat</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>false</code></em></p>
</div>
<div class="paragraph">
<p>The default setting eliminates resolving self-references into fully expanded nodes and thus creating reference cycles. If a self-reference is found, only the value of the @id property of the self-referencing node is returned instead.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_the_endpointpath_property"><a class="anchor" href="#_the_endpointpath_property"></a>The <code>endpointPath</code> property</h3>
<div class="paragraph">
<p>The <code>endpointPath</code> is used to access a configured delivery endpoint.</p>
</div>
<div class="paragraph">
<p><code>&lt;magnolia-base-path&gt;/.rest/&lt;endpointPath&gt;/{path}</code><br>
<code>&lt;magnolia-base-path&gt;/.rest/&lt;endpointPath&gt;?query-parameters</code></p>
</div>
<div class="paragraph">
<p>The value of the <code>endpointPath</code> can be set as a property in the
configuration. If you do not set the property manually, the system
evaluates it automatically.</p>
</div>
<div class="paragraph">
<p>If you do not set the property in the configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The value set by the system is the path of the configuration relative
to the <code>restEndpoints</code> folder.</p>
</li>
<li>
<p>You can add <code>_v$number</code> to the YAML file name or JCR node name that
defines the endpoint in order to add a version to the <code>endpointPath</code>
evaluated by the system .</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Examples</dt>
</dl>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">YAML file location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">endpointPath</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">my-module/restEndpoints/my-endpoint.yaml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>my-endpoint</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">my-module/restEndpoints/delivery/another-endpoint.yaml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delivery/another-endpoint</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">my-module/restEndpoints/delivery/another-endpoint_v3.yaml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delivery/another-endpoint/v3</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">JCR node path in the <code>configuration</code> workspace</th>
<th class="tableblock halign-left valign-top">endpointPath</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/modules/my-custom-module/restEndpoints/super-endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>super-endpoint</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/modules/my-custom-module/restEndpoints/delivery/mega-endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delivery/mega-endpoint</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/modules/my-custom-module/restEndpoints/delivery/mega-endpoint_v2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delivery/mega-endpoint/v2</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_location_of_the_endpoint_definitions"><a class="anchor" href="#_location_of_the_endpoint_definitions"></a>Location of the endpoint definitions</h3>
<div class="paragraph">
<p>Magnolia REST endpoint definitions are true
<a href="../../../../../product-docs/6.2/Developing/Resources/" class="page">Magnolia Resources</a>. You can create them in a
light module, in a Magnolia Maven module or in the JCR <code>configuration</code>
workspace.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Best practice</strong></p>
</div>
<div class="paragraph">
<p>Put the delivery endpoint configurations under the <code>delivery</code> subfolder.
This makes the endpoints easier to use because the default role
<code>rest-anonymous</code> is already configured to allow web access to the
<code>.rest/delivery/*</code> path.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_in_a_light_module"><a class="anchor" href="#_in_a_light_module"></a>In a light module</h4>
<div class="paragraph">
<p>Add configurations to the folder <code>restEndpoints</code> or to subfolders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>my-light-module/
â””â”€â”€ restEndpoints
    â”œâ”€â”€ delivery
    â”‚ â””â”€â”€ another-endpoint.yaml
    â””â”€â”€ my-endpoint.yaml</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_in_a_magnolia_maven_module"><a class="anchor" href="#_in_a_magnolia_maven_module"></a>In a Magnolia Maven module</h4>
<div class="paragraph">
<p>Add configurations to the folder
<code>resources/my-maven-module/restEndpoints</code> or to subfolders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>my-maven-module/
â””â”€â”€ src
    â””â”€â”€ main
        â””â”€â”€ resources
            â””â”€â”€ my-maven-module
                â””â”€â”€ restEndpoints
                    â”œâ”€â”€ delivery
                    â”‚ â””â”€â”€ johns-endpoint.yaml
                    â””â”€â”€ larrys-endpoint.yaml</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_in_the_jcr_configuration_workspace"><a class="anchor" href="#_in_the_jcr_configuration_workspace"></a>In the JCR configuration workspace</h4>
<div class="paragraph">
<p>Add configurations to the folder
<code>/modules/my-custom-module/restEndpoints</code> or to subfolders.</p>
</div>
<div class="paragraph">
<p><span class="image zoom"><img src="../../../../../product-docs/6.2/_images/api/ADVT-delivend-jcr.png" alt="image" height="218"></span></p>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../../connect-with-git/">Connect with Git</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer__col footer__logo">
        <a href="https://www.magnolia-cms.com" target="_blank" class="icon">
          <svg width="159" height="40" viewBox="0 0 159 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M89.8347 6.63219C88.9841 6.62132 88.1402 6.78357 87.3543 7.10906C86.5685 7.43454 85.8571 7.91646 85.2635 8.52548V6.84193H72.7865C70.2399 6.28353 67.6379 6.01728 65.0309 6.04833C54.3517 6.04833 46.1934 9.76972 46.1934 14.7042C46.1934 16.5181 47.4042 17.9154 50.2229 19.2645L48.7058 19.9192L46.5904 20.795C45.537 21.193 44.5414 21.7296 43.6299 22.3907V13.0943C43.6299 8.81458 40.9786 6.63219 35.8261 6.63219C32.7692 6.63219 31.0054 7.19904 29.2218 9.16036L32.1369 11.9946C33.0897 10.9034 33.895 10.4811 35.6531 10.4811C38.0776 10.4811 39.056 11.3569 39.056 13.3579V14.2734H34.74C30.4865 14.2734 28.4817 16.657 28.4817 19.5735C28.4381 21.0876 28.9817 22.5601 29.9988 23.6831C31.0877 24.7715 32.5991 25.2958 34.672 25.2958C36.7449 25.2958 37.9415 24.7715 39.1722 23.5414V25.1229H43.6271V25.0011C44.5685 25.5679 46.2444 26.1348 48.8079 26.7385L45.9892 27.4414C41.6563 28.5127 40.0343 29.0229 38.2336 29.8137C35.7127 30.885 34.4026 32.2341 34.4026 33.7646C34.4026 37.4945 42.4588 40 54.5502 40C68.3486 40 78.5203 36.4628 78.5203 31.7608C78.5203 30.1311 77.1024 28.6913 74.3943 27.7106C72.0747 26.8603 69.8572 26.4097 61.8039 25.3384C55.4548 24.4881 53.5407 24.1281 51.9272 23.4451C51.2239 23.0653 50.7192 22.5608 50.7192 22.0506C50.7192 21.2939 51.4252 20.8404 53.3365 20.095C55.9538 20.5875 58.6132 20.822 61.2764 20.795C71.2467 20.795 79.0023 17.068 79.0023 12.3716C79.0023 10.9715 78.6025 10.1835 77.0911 8.97046C77.0911 8.97046 78.9853 8.97046 80.7775 9.14619V25.1314H85.3543V14.0778C85.3543 11.5837 86.9734 10.7447 88.4111 10.7447C89.8488 10.7447 91.4425 11.595 91.4425 14.0778V25.1314H96.0108V13.4458C96.0108 11.4448 95.6308 9.72154 94.1477 8.24772C93.1382 7.23022 91.6608 6.63219 89.8347 6.63219ZM39.0758 18.3944C39.0758 19.5281 38.8972 20.2565 38.4038 20.7157C37.5984 21.4724 36.7874 21.5943 35.5227 21.5943C33.7334 21.5943 32.8912 20.744 32.8912 19.4856C32.8912 18.2272 33.8014 17.4194 35.4433 17.4194H39.0645L39.0758 18.3944ZM53.3677 27.8892H53.7704C54.9699 27.8892 57.1732 28.1216 60.576 28.6459C63.6783 29.0626 65.3967 29.4027 66.8854 29.8505C69.5028 30.6101 70.8923 31.7013 70.8923 32.9965C70.8923 35.9187 64.2794 38.1379 55.744 38.1379C47.3305 38.1379 41.7272 36.2871 41.7272 33.5124C41.7272 31.8912 43.335 30.5874 46.6528 29.4339C48.9213 28.6318 51.8336 27.9884 53.3365 27.8892H53.3677ZM61.2849 19.1398C56.6741 19.1398 54.088 17.5214 54.088 14.6475C54.088 10.7589 57.7942 7.9813 63.3096 7.9813H63.6896C68.0991 7.9813 70.9036 9.78673 70.9036 12.6097C70.9036 16.4047 66.7805 19.1285 61.2622 19.1285L61.2849 19.1398Z" fill="#1E1F1C"/>
            <path d="M106.778 6.63208C104.073 6.63208 102.241 7.68926 101.107 8.88249C99.4562 10.6029 99.0365 12.6662 99.0365 15.9682C99.0365 19.2701 99.4562 21.3731 101.107 23.0963C102.241 24.2896 104.061 25.3411 106.778 25.3411C109.495 25.3411 111.346 24.2896 112.449 23.0963C114.103 21.3731 114.522 19.3098 114.522 15.9682C114.522 12.6266 114.103 10.583 112.449 8.88249C111.346 7.68926 109.48 6.63208 106.778 6.63208ZM108.922 20.4066C108.639 20.6814 108.303 20.8952 107.934 21.0346C107.565 21.1741 107.172 21.2362 106.778 21.2172C106.389 21.2368 106.001 21.1748 105.637 21.0352C105.274 20.8956 104.944 20.6815 104.668 20.4066C103.721 19.4628 103.613 17.8558 103.613 15.9511C103.613 14.0465 103.721 12.4735 104.668 11.5269C104.945 11.2536 105.275 11.0408 105.638 10.9017C106.001 10.7627 106.389 10.7005 106.778 10.7191C107.171 10.7009 107.565 10.7631 107.933 10.902C108.302 11.0409 108.638 11.2535 108.922 11.5269C109.872 12.4735 109.974 14.055 109.974 15.9511C109.974 17.8473 109.872 19.4855 108.922 20.4066Z" fill="#1E1F1C"/>
            <path d="M122.587 19.6301V0.135986H118.019V19.9078C118.019 22.5068 119.601 25.1399 123.358 25.1399H125.961V21.2796H124.203C123.041 21.2796 122.587 20.7156 122.587 19.6301Z" fill="#1E1F1C"/>
            <path d="M133.482 6.84741H128.913V25.1426H133.482V6.84741Z" fill="#1E1F1C"/>
            <path d="M133.513 0H128.84V3.72139H133.513V0Z" fill="#1E1F1C"/>
            <path d="M143.914 6.63208C140.857 6.63208 139.093 7.19893 137.307 9.16025L140.225 11.9945C141.172 10.9033 141.983 10.481 143.738 10.481C146.16 10.481 147.141 11.3568 147.141 13.3578V14.2733H142.825C138.572 14.2733 136.567 16.6569 136.567 19.5733C136.522 21.0872 137.065 22.5597 138.081 23.683C139.17 24.7714 140.684 25.2957 142.751 25.2957C144.819 25.2957 146.021 24.7714 147.252 23.5413V25.1228H151.709V13.0942C151.709 8.81447 149.044 6.63208 143.914 6.63208ZM147.147 18.3943C147.147 19.528 146.968 20.2564 146.48 20.7155C145.672 21.4723 144.867 21.5942 143.597 21.5942C141.804 21.5942 140.945 20.7439 140.945 19.4855C140.945 18.2271 141.858 17.4193 143.514 17.4193H147.13L147.147 18.3943Z" fill="#1E1F1C"/>
            <path d="M19.3621 6.63226C18.3336 6.59126 17.3087 6.77782 16.3606 7.17859C15.4126 7.57937 14.5648 8.18448 13.8779 8.95069C12.7181 7.36917 11.0592 6.63226 9.02884 6.63226C8.18003 6.63077 7.33932 6.7973 6.55525 7.12226C5.77117 7.44721 5.05924 7.92415 4.46054 8.52555V6.84199H0V25.1372H4.5683V14.0835C4.5683 11.5894 6.18464 10.7504 7.62517 10.7504C9.0657 10.7504 10.6537 11.6007 10.6537 14.0835V25.1372H15.2191V13.9815C15.2191 11.5922 16.8695 10.7504 18.2703 10.7504C19.6712 10.7504 21.3017 11.6007 21.3017 14.0864V25.14H25.87V13.4458C25.87 11.4448 25.3426 9.72161 23.885 8.24779C22.8358 7.23029 21.1854 6.63226 19.3621 6.63226Z" fill="#1E1F1C"/>
            <path d="M156.958 5.32267C156.962 5.17787 156.938 5.03367 156.886 4.89831C156.835 4.76296 156.757 4.63909 156.657 4.53381C156.558 4.42852 156.438 4.34388 156.306 4.2847C156.174 4.22553 156.031 4.193 155.886 4.18896H154.185V7.74597H155.112V6.40819H155.492L156.028 7.73746H157.086L156.419 6.24948C156.59 6.1642 156.732 6.03108 156.827 5.86644C156.923 5.7018 156.968 5.51281 156.958 5.32267ZM155.648 5.70246H155.112V4.98539H155.657C155.704 4.98055 155.751 4.98504 155.797 4.99858C155.842 5.01213 155.884 5.03448 155.921 5.06435C155.958 5.09422 155.988 5.13103 156.011 5.17268C156.033 5.21433 156.047 5.26 156.052 5.30708C156.057 5.35417 156.053 5.40174 156.039 5.44709C156.025 5.49244 156.003 5.53468 155.973 5.5714C155.943 5.60811 155.907 5.63858 155.865 5.66107C155.823 5.68356 155.778 5.69762 155.73 5.70246H155.648Z" fill="#1E1F1C"/>
            <path d="M155.501 2.45459C154.807 2.45347 154.129 2.65812 153.551 3.04262C152.974 3.42712 152.524 3.97418 152.258 4.61453C151.992 5.25488 151.922 5.95971 152.057 6.63978C152.192 7.31986 152.526 7.94458 153.017 8.43485C153.507 8.92511 154.132 9.25887 154.813 9.39386C155.493 9.52885 156.198 9.459 156.839 9.19315C157.48 8.9273 158.027 8.47742 158.412 7.90046C158.796 7.3235 159.001 6.64542 159 5.95208C158.999 5.02495 158.629 4.13622 157.973 3.48064C157.318 2.82506 156.428 2.45609 155.501 2.45459ZM155.501 8.59361C154.977 8.608 154.46 8.46667 154.016 8.18751C153.572 7.90835 153.221 7.5039 153.007 7.0253C152.793 6.54671 152.726 6.01547 152.814 5.49877C152.903 4.98208 153.142 4.50314 153.503 4.12252C153.863 3.74191 154.329 3.47672 154.84 3.3605C155.351 3.24428 155.886 3.28224 156.376 3.46958C156.865 3.65693 157.289 3.98524 157.592 4.413C157.895 4.84076 158.064 5.34875 158.078 5.87272C158.08 5.89632 158.08 5.91998 158.078 5.94358C158.095 6.27484 158.046 6.6061 157.934 6.91842C157.822 7.23075 157.65 7.51802 157.428 7.76384C157.205 8.00967 156.936 8.20922 156.636 8.35111C156.336 8.49299 156.011 8.57444 155.679 8.59078C155.623 8.59361 155.563 8.59645 155.501 8.59361Z" fill="#1E1F1C"/>
          </svg>
        </a>
    </div>
    <div class="footer__col footer__links">
      <div class="col">
  <ul>
    <li><a href="https://www.magnolia-cms.com/get-started/developer-trial.html" target="_blank" rel="noopener">Developer Trial</a></li>
    <li><a href="https://hd.magnolia-cms.com/" target="_blank" rel="noopener">Headless Docs</a></li>
    <li><a href="https://wiki.magnolia-cms.com/" target="_blank" rel="noopener">Community Wiki</a></li>
  </ul>
</div>
<div class="col">
  <ul>
    <li><a href="https://www.magnolia-cms.com/support.html" target="_blank" rel="noopener">Support</a></li>
    <li><a href="https://magnolia-cms.com/blog" target="_blank" rel="noopener">Blog</a></li>
    <li><a href="https://www.magnolia-cms.com/training" target="_blank" >Training</a></li>
  </ul>
</div>
<div class="col">
  <ul>
    <li><a href="https://www.magnolia-cms.com/library.html" target="_blank" >Magnolia Resources</a></li>
    <li><a href="https://www.magnolia-cms.com/product/architecture-and-tech-stack.html" target="_blank" >Architecture and Tech Stack</a></li>
    <li><a href="http://mgnl.io/roadmap" target="_blank" >Product Roadmap</a></li>
  </ul>
</div>


<div class="footer-terms">
  <span>2021 Magnolia International Ltd. Some rights reserved.</span>
  <a href="https://www.magnolia-cms.com/legal/privacy.html" target="_blank">Privacy policy</a>
</div>

    </div>
    <div class="footer__col footer__socials">
      <ul class="social-icons">
  <li class="facebook">
    <a href="https://www.facebook.com/Magnolia" target="_blank" class="icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>
    </a>
  </li>
  <li class="twitter">
    <a href="https://twitter.com/magnolia_cms" target="_blank" class="icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>    </a>
  </li>
  <li class="linkedin">
    <a href="https://www.linkedin.com/company/magnolia-cms" target="_blank" class="icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/></svg>
    </a>
  </li>
  <li class="youtube">
    <a href="https://www.youtube.com/channel/UCKq5WUu8lM799JNKmu49jZA" target="_blank" class="icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/></svg>
    </a>
  </li>
</ul>
    </div>
  </div>
</footer>

<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../_/js/vendor/clipboard.js"></script>
<script async src="../../../../../_/js/vendor/medium-zoom.js"></script>
<script async src="../../../../../_/js/vendor/collapse.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>

<script type="text/javascript">
    docsearch({
        appId: 'QBCG65DI72',
        apiKey: '06b1d2df8bc87a2687f57b8bafa31ce2',
        indexName: 'cloud_internal_docs',
        inputSelector: '#searchBar',
        algoliaOptions: { hitsPerPage: 15 },
        debug: true // prevent it from closing on inspection.
    });

    function toggleDropDown () {
      var linkEl = document.querySelectorAll('.has-dropdown');
      var allDrops =  document.querySelectorAll('.has-dropdown .navbar-dropdown');
      for (var el of linkEl) {
        el.addEventListener('click', function (e) {
          for (var drop of allDrops) {
            drop.style.display = "none";
          }
          e.stopPropagation()
          e.target.nextElementSibling.style.display = "block";
        })
      }
    }
    if(window.innerWidth < 1200) {
      toggleDropDown();
    }

</script>

<script src="//www.eucookie.eu/public/gdpr-cookie-consent.js" type="text/javascript"></script>
<script type="text/javascript">
	var cookieConsent = new cookieConsent({
	clientId: '22aadf89-d87b-4277-83ac-f12dfee5eb1f'
});
cookieConsent.run();
</script>

<script src="//www.eucookie.eu/public/gdpr-cookie-consent.js" type="text/javascript"></script>
<script type="text/javascript">
	var cookieConsent = new cookieConsent({
	clientId: '22aadf89-d87b-4277-83ac-f12dfee5eb1f'
});
cookieConsent.run();
</script>
<div id="feedback">
    <a href="https://jira.magnolia-cms.com/secure/CreateIssueDetails!init.jspa?pid=10190&issuetype=4" target="_blank" rel="noopener">
       Feedback
    </a>
</div>
<button onclick="topFunction()" id="scrollTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i> Top</button>

<script>
//Get the button
var mybutton = document.getElementById("scrollTopBtn");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>
  </body>
</html>
